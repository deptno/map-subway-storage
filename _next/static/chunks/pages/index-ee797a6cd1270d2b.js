(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7077:function(s,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(7250)}])},7250:function(s,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Z}});var n=a(1527),t=a(959);let l=(0,t.createContext)(null);var c=a(9527),i=a(5847),h=a(5703),r=a(4895),p=a(4555);let d=s=>{let{data:e,focus:a,onClick:d}=s,{호선:o,역명:f,위치정보:m,열:x,제어부:w,소형:b,중형:u,대형:j,x:N,y:g}=e,k=(0,t.useContext)(l),v=(0,t.useCallback)(()=>c.Z(i.Z,h.Z(void 0),r.Z(()=>k.setCenter(new kakao.maps.LatLng(g,N)),p.Z(r.Z(d,h.Z(f)))))(k),[k]),Z=(0,t.useMemo)(()=>a?"station flex items-center lh-copy bg-blue white ":"station flex items-center lh-copy hover-bg-light-blue hover-white items-stretch",[a]);return(0,n.jsxs)("li",{className:Z,onClick:v,children:[(0,n.jsx)("style",{children:"\n          .station {\n            height: 40px;\n            line-height: 16px;\n            padding-top: 2px;\n            padding-bottom: 2px;\n          }\n          .station {\n            border-bottom: 1px solid black;\n          }\n          .station:last-child {\n            border-bottom: none;\n          }\n        "}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3 w4-ns",children:o}),(0,n.jsx)("span",{className:"f5-ns f7 tc bg-black-05 w4",children:f}),(0,n.jsx)("span",{className:"f5-ns f7 w-100 ",children:m}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3-ns w2",children:x}),(0,n.jsx)("span",{className:"f5-ns f7 tc bg-black-05 w4-ns w2",children:w}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3-ns w2",children:b}),(0,n.jsx)("span",{className:"f5-ns f7 tc bg-black-05 w3-ns w2",children:u}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3-ns w2",children:j})]})},o=s=>(0,n.jsxs)("li",{className:"flex lh-copy dib pv2 mb3",children:[(0,n.jsx)("span",{className:"f5-ns f7 tc w3 w4-ns",children:"호선"}),(0,n.jsx)("span",{className:"f5-ns f7 tc bg-black-05 w4",children:"역명"}),(0,n.jsx)("span",{className:"f5-ns f7 tc w-100",children:"위치정보"}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3-ns w2",children:"열"}),(0,n.jsx)("span",{className:"f5-ns f7 tc bg-black-05 w4-ns w2",children:"제어부"}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3-ns w2",children:"소형"}),(0,n.jsx)("span",{className:"f5-ns f7 tc bg-black-05 w3-ns w2",children:"중형"}),(0,n.jsx)("span",{className:"f5-ns f7 tc w3-ns w2",children:"대형"})]});var f=a(4085);let m=s=>{let{data:e,station:a,onClick:t}=s;return(0,n.jsxs)("ul",{className:"list ph2 mv0 f6 w-100",children:[(0,n.jsx)(o,{}),e.map(s=>(0,n.jsx)(d,{data:s,onClick:t,focus:f.Z(a,s.역명)},s.역명))]})},x=s=>(0,n.jsxs)("header",{className:"flex f3 pa3",children:[(0,n.jsx)("h1",{className:"ph2 ph0-ns f5",children:"지하철 물품보관함(해피박스) 위치"}),(0,n.jsxs)("div",{className:"ml-auto flex items-center justify-between",children:[(0,n.jsx)("a",{className:"link black mh3",href:"https://github.com/deptno/map-subway-storage",target:"_blank",children:(0,n.jsx)("i",{className:"fab fa-github black-70 "})}),(0,n.jsx)("a",{className:"link black-70",href:"http://deptno.github.io",target:"_blank",children:(0,n.jsx)("span",{className:"f6 db underline b",children:"about"})})]})]});var w=a(7900),b=a(9435),u=a(856),j=a.n(u);let N=s=>new(j())(s,{keys:[{name:"역명",weight:.7},{name:"호선",weight:.2},{name:"위치정보",weight:.1}]});var g=a(8466),k=a(4344),v=a(5067),Z=()=>{let[s,e]=(0,t.useState)([]),[a,i]=(0,t.useState)(s),[d,o]=(0,t.useState)(!1),[f,u]=(0,t.useState)(),j=(0,t.useMemo)(()=>{if(d)return new kakao.maps.Map(document.getElementById("map"),{center:new kakao.maps.LatLng(33.450701,126.570667),level:3})},[d]);(0,t.useEffect)(()=>{fetch(location.pathname+"static/json/storage.json").then(s=>s.json()).then((0,p.Z)((0,r.Z)(u,N))).then(e),o(!0)},[]),(0,t.useEffect)(()=>i(s),[s]);let[Z,_]=(0,t.useState)("역을 선택하세요."),C=(0,t.useMemo)(()=>f?"검색할 역명":"인덱싱..",[f]),y=(0,t.useCallback)((0,r.Z)(i,(0,c.Z)(g.Z,(0,h.Z)(s),k.Z),s=>f.search(s),(0,v.Z)(["target","value"])),[f,s]);return(0,n.jsxs)(l.Provider,{value:j,children:[(0,n.jsx)("style",{children:"\n          .stations {\n            height: calc(100vh - ".concat(430,"px);\n            top: ").concat(410,"px;\n          }\n\n          .map-wrapper {\n            height: ").concat(250,"px;\n          }\n\n          #map {\n            width: 100%;\n            height: ").concat(250,"px;\n          }\n        ")}),(0,n.jsx)(b.PB,{...w.$K}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"fixed ph3-ns w-100",children:[(0,n.jsx)(x,{}),(0,n.jsx)("div",{className:"flex map-wrapper",children:(0,n.jsx)("div",{id:"map"})}),(0,n.jsxs)("div",{className:"pv3 ph3 flex items-center",children:[(0,n.jsx)("i",{className:"ph2 pv1 fas fa-search blue"}),(0,n.jsx)("input",{className:"ph2 br2 ba b--black-60 lh-copy flex-auto",onChange:y,placeholder:C,disabled:!f})]}),(0,n.jsx)("div",{className:"ph3",children:(0,n.jsx)("p",{className:"mv1 mh0 ph2 pv1 br2 bg-black white",children:Z})})]}),(0,n.jsx)("div",{className:"absolute overflow-scroll w-100 ph3 stations",children:(0,n.jsx)(m,{data:a,station:Z,onClick:_})})]})]})}}},function(s){s.O(0,[195,888,774,179],function(){return s(s.s=7077)}),_N_E=s.O()}]);